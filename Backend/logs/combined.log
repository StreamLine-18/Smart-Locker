{"level":"info","message":"Menerima permintaan status transaksi","orderId":"1750481224371","timestamp":"2025-06-23T03:22:12.132Z"}
{"level":"info","message":"Berhasil mendapatkan status transaksi","orderId":"1750481224371","status":"settlement","timestamp":"2025-06-23T03:22:12.753Z"}
{"level":"info","message":"Mengirim notifikasi Pembayaran berhasil untuk order 1750481224371","timestamp":"2025-06-23T03:23:10.525Z","userId":"OZ7zGkEwj9WH9ug5Q5vYcGZs4WS2"}
{"level":"info","message":"Mengirim notifikasi Pembayaran berhasil untuk order 1750481224371","timestamp":"2025-06-23T03:23:56.741Z","userId":"OZ7zGkEwj9WH9ug5Q5vYcGZs4WS2"}
{"level":"info","message":"Menerima permintaan status transaksi","orderId":"1750481224371","timestamp":"2025-06-23T03:26:56.237Z"}
{"level":"info","message":"Berhasil mendapatkan status transaksi","orderId":"1750481224371","status":"settlement","timestamp":"2025-06-23T03:26:56.452Z"}
{"level":"error","message":"Gagal mendapatkan token Snap 2 UNKNOWN: Getting metadata from plugin failed with error: error:1E08010C:DECODER routines::unsupported","orderId":"unknown","status":500,"timestamp":"2025-06-23T04:37:07.325Z"}
{"level":"info","message":"Mengirim notifikasi Pembayaran berhasil untuk order 1750481224371","timestamp":"2025-06-23T06:34:59.540Z","userId":"OZ7zGkEwj9WH9ug5Q5vYcGZs4WS2"}
{"clientEmail":"firebase-adminsdk-fbsvc@smartlocker-f9b6e.iam.gserviceaccount.com","level":"info","message":"Firebase environment variables","privateKeyExists":true,"projectId":"smartlocker-f9b6e","timestamp":"2025-06-23T06:35:05.627Z"}
{"level":"info","message":"Menerima permintaan konfirmasi pesanan","orderId":"1750481224371","timestamp":"2025-06-23T06:35:05.687Z","transactionId":"tx123","uid":"OZ7zGkEwj9WH9ug5Q5vYcGZs4WS2"}
{"level":"info","message":"Menerima permintaan konfirmasi pesanan","orderId":"1750572432919","timestamp":"2025-06-23T06:36:38.657Z","transactionId":"tx123","uid":"OZ7zGkEwj9WH9ug5Q5vYcGZs4WS2"}
{"level":"info","message":"Berhasil mengkonfirmasi pesanan","orderId":"1750572432919","timestamp":"2025-06-23T06:36:40.382Z"}
{"level":"info","message":"Menerima permintaan status transaksi","orderId":"1750572432919","timestamp":"2025-06-23T06:36:59.758Z"}
{"level":"info","message":"Berhasil mendapatkan status transaksi","orderId":"1750572432919","status":"capture","timestamp":"2025-06-23T06:37:01.393Z"}
{"clientEmail":"firebase-adminsdk-fbsvc@smartlocker-f9b6e.iam.gserviceaccount.com","level":"info","message":"Firebase environment variables","privateKeyExists":true,"projectId":"smartlocker-f9b6e","timestamp":"2025-06-23T06:37:08.553Z"}
{"error":"The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.","level":"error","message":"Failed to initialize Firebase","timestamp":"2025-06-23T06:37:08.555Z"}
{"clientEmail":"firebase-adminsdk-fbsvc@smartlocker-f9b6e.iam.gserviceaccount.com","level":"info","message":"Firebase environment variables","privateKeyExists":true,"projectId":"smartlocker-f9b6e","timestamp":"2025-06-23T06:37:38.023Z"}
{"error":"The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.","level":"error","message":"Failed to initialize Firebase","timestamp":"2025-06-23T06:37:38.024Z"}
{"clientEmail":"firebase-adminsdk-fbsvc@smartlocker-f9b6e.iam.gserviceaccount.com","level":"info","message":"Firebase environment variables","privateKeyExists":true,"projectId":"smartlocker-f9b6e","timestamp":"2025-06-23T08:13:43.493Z"}
{"amount":10000,"email":"vimacandraa@gmail.com","level":"info","message":"Menerima permintaan token Snap","orderId":"1750572432919","timestamp":"2025-06-23T08:13:43.557Z","uid":"OZ7zGkEwj9WH9ug5Q5vYcGZs4WS2"}
{"amount":10000,"email":"vimacandraa@gmail.com","level":"info","message":"Menerima permintaan token Snap","orderId":"1750572432919","timestamp":"2025-06-23T08:14:30.467Z","uid":"OZ7zGkEwj9WH9ug5Q5vYcGZs4WS2"}
{"amount":10000,"email":"vimacandraa@gmail.com","level":"info","message":"Menerima permintaan token Snap","orderId":"1750572432919","timestamp":"2025-06-23T08:14:58.815Z","uid":"OZ7zGkEwj9WH9ug5Q5vYcGZs4WS2"}
{"amount":10000,"email":"user@example.com","level":"info","message":"Menerima permintaan token Snap","orderId":"1750572432919","timestamp":"2025-06-23T08:16:58.128Z","uid":"OZ7zGkEwj9WH9ug5Q5vYcGZs4WS2"}
{"amount":10000,"level":"info","message":"Mengirim permintaan ke Midtrans","orderId":"1750572432919","timestamp":"2025-06-23T08:16:58.435Z"}
{"level":"error","message":"Gagal mendapatkan token Snap Midtrans API is returning API error. HTTP status code: 401. API response: {\"error_messages\":[\"Access denied due to unauthorized transaction, please check client or server key\",\"Visit https://docs.midtrans.com/reference/backend-integration for more details\"]}","orderId":"unknown","status":500,"timestamp":"2025-06-23T08:16:58.735Z"}
{"clientEmail":"firebase-adminsdk-fbsvc@smartlocker-f9b6e.iam.gserviceaccount.com","level":"info","message":"Firebase environment variables","privateKeyExists":true,"projectId":"smartlocker-f9b6e","timestamp":"2025-06-23T22:16:19.972Z"}
{"error":"The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.","level":"error","message":"Failed to initialize Firebase","timestamp":"2025-06-23T22:16:19.977Z"}
{"errorUrl":"http://localhost:3000/error","firebaseClientEmail":"firebase-adminsdk-fbsvc@smartlocker-f9b6e.iam.gserviceaccount.com","firebasePrivateKeyExists":true,"firebaseProjectId":"smartlocker-f9b6e","level":"info","message":"Environment variables","midtransClientKeyExists":true,"midtransServerKeyExists":true,"successUrl":"http://localhost:3000/finish","timestamp":"2025-06-23T22:27:51.154Z","unfinishUrl":"http://localhost:3000/unfinish"}
{"level":"info","message":"Firebase initialized successfully","timestamp":"2025-06-23T22:27:51.206Z"}
{"ip":"::1","level":"info","message":"Processing request from IP","timestamp":"2025-06-23T22:27:51.220Z"}
{"amount":10000,"email":"user@example.com","level":"info","message":"Received Snap token request","orderId":"1750572432919","timestamp":"2025-06-23T22:27:51.224Z","uid":"OZ7zGkEwj9WH9ug5Q5vYcGZs4WS2"}
{"email":"user@example.com","level":"info","message":"User verified successfully","timestamp":"2025-06-23T22:27:52.179Z","uid":"OZ7zGkEwj9WH9ug5Q5vYcGZs4WS2"}
{"level":"info","message":"Midtrans Snap initialized","timestamp":"2025-06-23T22:27:52.182Z"}
{"amount":10000,"level":"info","message":"Sending request to Midtrans","orderId":"1750572432919","timestamp":"2025-06-23T22:27:52.182Z"}
{"error":"Midtrans API is returning API error. HTTP status code: 400. API response: {\"error_messages\":[\"transaction_details.order_id sudah digunakan\"]}","level":"error","message":"Midtrans transaction failed","stack":"MidtransError: Midtrans API is returning API error. HTTP status code: 400. API response: {\"error_messages\":[\"transaction_details.order_id sudah digunakan\"]}\n    at eval (webpack-internal:///(rsc)/./node_modules/midtrans-client/lib/httpClient.js:85:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-23T22:27:52.817Z"}
{"ip":"::1","level":"info","message":"Processing request from IP","timestamp":"2025-06-23T22:28:50.405Z"}
{"amount":10000,"email":"vimacandraa@gmail.com","level":"info","message":"Received Snap token request","orderId":"1750572432919","timestamp":"2025-06-23T22:28:50.407Z","uid":"OZ7zGkEwj9WH9ug5Q5vYcGZs4WS2"}
{"email":"vimacandraa@gmail.com","firestoreEmail":"user@example.com","level":"warn","message":"Email mismatch","timestamp":"2025-06-23T22:28:50.763Z","uid":"OZ7zGkEwj9WH9ug5Q5vYcGZs4WS2"}
{"errorUrl":"http://localhost:3000/error","firebaseClientEmail":"firebase-adminsdk-fbsvc@smartlocker-f9b6e.iam.gserviceaccount.com","firebasePrivateKeyExists":true,"firebaseProjectId":"smartlocker-f9b6e","level":"info","message":"Environment variables","midtransClientKeyExists":true,"midtransServerKeyExists":true,"successUrl":"http://localhost:3000/finish","timestamp":"2025-06-23T22:30:46.932Z","unfinishUrl":"http://localhost:3000/unfinish"}
{"level":"info","message":"Firebase initialized successfully","timestamp":"2025-06-23T22:30:47.072Z"}
{"ip":"::ffff:127.0.0.1","level":"info","message":"Processing request from IP","timestamp":"2025-06-23T22:30:47.112Z"}
{"amount":10000,"email":"vimacandraa@gmail.com","level":"info","message":"Received Snap token request","orderId":"1750717837885","timestamp":"2025-06-23T22:30:47.121Z","uid":"OZ7zGkEwj9WH9ug5Q5vYcGZs4WS2"}
{"email":"vimacandraa@gmail.com","firestoreEmail":"user@example.com","level":"warn","message":"Email mismatch","timestamp":"2025-06-23T22:30:48.163Z","uid":"OZ7zGkEwj9WH9ug5Q5vYcGZs4WS2"}
{"errorUrl":"http://localhost:3000/error","firebaseClientEmail":"firebase-adminsdk-fbsvc@smartlocker-f9b6e.iam.gserviceaccount.com","firebasePrivateKeyExists":true,"firebaseProjectId":"smartlocker-f9b6e","level":"info","message":"Environment variables","midtransClientKeyExists":true,"midtransServerKeyExists":true,"successUrl":"http://localhost:3000/finish","timestamp":"2025-06-24T00:16:49.059Z","unfinishUrl":"http://localhost:3000/unfinish"}
{"error":"The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.","level":"error","message":"Failed to initialize Firebase","stack":"Error: The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.\n    at AppStore.initializeApp (/Users/mymac/Desktop/project/SMARTLOKER/backend-smartlocker/node_modules/firebase-admin/lib/app/lifecycle.js:45:23)\n    at initializeApp (/Users/mymac/Desktop/project/SMARTLOKER/backend-smartlocker/node_modules/firebase-admin/lib/app/lifecycle.js:106:36)\n    at eval (webpack-internal:///(rsc)/./app/api/payment/token/route.js:80:84)","timestamp":"2025-06-24T00:16:49.065Z"}
{"errorUrl":"http://localhost:3000/error","firebaseClientEmail":"firebase-adminsdk-fbsvc@smartlocker-f9b6e.iam.gserviceaccount.com","firebasePrivateKeyExists":true,"firebaseProjectId":"smartlocker-f9b6e","level":"info","message":"Environment variables","midtransClientKeyExists":true,"midtransServerKeyExists":true,"successUrl":"http://localhost:3000/finish","timestamp":"2025-06-24T00:17:36.213Z","unfinishUrl":"http://localhost:3000/unfinish"}
{"error":"The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.","level":"error","message":"Failed to initialize Firebase","stack":"Error: The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name.\n    at AppStore.initializeApp (/Users/mymac/Desktop/project/SMARTLOKER/backend-smartlocker/node_modules/firebase-admin/lib/app/lifecycle.js:45:23)\n    at initializeApp (/Users/mymac/Desktop/project/SMARTLOKER/backend-smartlocker/node_modules/firebase-admin/lib/app/lifecycle.js:106:36)\n    at eval (webpack-internal:///(rsc)/./app/api/payment/token/route.js:80:84)","timestamp":"2025-06-24T00:17:36.218Z"}
{"errorUrl":"http://localhost:3000/error","firebaseClientEmail":"firebase-adminsdk-fbsvc@smartlocker-f9b6e.iam.gserviceaccount.com","firebasePrivateKeyExists":true,"firebaseProjectId":"smartlocker-f9b6e","level":"info","message":"Environment variables","midtransClientKeyExists":true,"midtransServerKeyExists":true,"successUrl":"http://localhost:3000/finish","timestamp":"2025-06-24T00:25:45.895Z","unfinishUrl":"http://localhost:3000/unfinish"}
{"level":"info","message":"Firebase initialized successfully","timestamp":"2025-06-24T00:25:45.946Z"}
{"ip":"::ffff:127.0.0.1","level":"info","message":"Processing request from IP","timestamp":"2025-06-24T00:25:45.966Z"}
{"amount":10000,"email":"vimacandraa@gmail.com","level":"info","message":"Received Snap token request","orderId":"1750724741605","timestamp":"2025-06-24T00:25:45.970Z","uid":"OZ7zGkEwj9WH9ug5Q5vYcGZs4WS2"}
{"email":"vimacandraa@gmail.com","level":"info","message":"User verified successfully","timestamp":"2025-06-24T00:25:46.560Z","uid":"OZ7zGkEwj9WH9ug5Q5vYcGZs4WS2"}
{"level":"info","message":"Midtrans Snap initialized","timestamp":"2025-06-24T00:25:46.562Z"}
{"amount":10000,"level":"info","message":"Sending request to Midtrans","orderId":"1750724741605","timestamp":"2025-06-24T00:25:46.562Z"}
{"level":"info","message":"Successfully obtained Snap token","orderId":"1750724741605","timestamp":"2025-06-24T00:25:46.765Z","token":"e97621ce-0313-40d4-9e77-72242f324fe9"}
{"level":"info","message":"Menerima permintaan status transaksi","orderId":"1750724741605","timestamp":"2025-06-24T00:26:48.487Z"}
{"level":"info","message":"Berhasil mendapatkan status transaksi","orderId":"1750724741605","status":"capture","timestamp":"2025-06-24T00:26:49.028Z"}
